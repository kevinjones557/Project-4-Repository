Index: LogIn.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.io.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class LogIn {\r\n    /** Writes user's username to a file\r\n     * @param user String of the user's username\r\n     * @return boolean of if file was successfully written or not\r\n     */\r\n    public static boolean writeFile(String user) {\r\n        try (PrintWriter pw = new PrintWriter(new FileOutputStream(\"users/\" + user + \"/\" + user))){\r\n            pw.println(user);\r\n            return (true);\r\n        } catch (Exception e) {\r\n            return (false);\r\n        }\r\n    }\r\n\r\n    /** Appends an additional line to a given user's file\r\n     * @param user the user whose file is being appended\r\n     * @param toAppend the parameter that is being appended to the file\r\n     * @return boolean of if the file was successfully written or not\r\n     */\r\n    public static boolean writeFile(String user, String toAppend) {\r\n        try (PrintWriter pw = new PrintWriter(new FileOutputStream(\"users/\" + user + \"/\" + user, true))){\r\n            pw.println(toAppend);\r\n            return (true);\r\n        } catch (Exception e) {\r\n            return (false);\r\n        }\r\n    }\r\n\r\n    /** Encrypts the password of the user file when an account is created\r\n     * @param user the user whose password is being encrypted\r\n     */\r\n    public static void encryptFile (String user) {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(\"users/\" + user + \"/\" + user))) {\r\n            String password = \"\";\r\n            int index = 0;\r\n            String line = br.readLine();\r\n            while (line != null) {\r\n                index++;\r\n                if (index == 2) {\r\n                    password = line;\r\n                }\r\n                line = br.readLine();\r\n            }\r\n            br.close();\r\n            char[] toBeEncrypted = password.toCharArray();\r\n            for (int i = 0; i < toBeEncrypted.length; i++) {\r\n                if (i % 2 == 0) {\r\n                    toBeEncrypted[i] += 5;\r\n                } else {\r\n                    toBeEncrypted[i] -= 5;\r\n                }\r\n            }\r\n            writeFile(user);\r\n            String finalPassword = \"\";\r\n            for (char c : toBeEncrypted) {\r\n                finalPassword += c;\r\n            }\r\n            writeFile(user, finalPassword);\r\n        } catch (Exception e) {\r\n            System.out.println(\"An unknown error occurred!\");\r\n        }\r\n    }\r\n\r\n    /** Takes a password input by a user attempting to log in and uses the key to encrypt it for comparison\r\n     * @param input the password being encrypted\r\n     * @return String of the encrypted password\r\n     */\r\n    public static String encrypt (String input) {\r\n        String finalInput = \"\";\r\n        char[] inputArray = input.toCharArray();\r\n        for (int i = 0; i < inputArray.length; i++) {\r\n            if (i % 2 == 0) {\r\n                inputArray[i] += 5;\r\n            } else {\r\n                inputArray[i] -= 5;\r\n            }\r\n        }\r\n        for (char c : inputArray) {\r\n            finalInput += c;\r\n        }\r\n        return (finalInput);\r\n    }\r\n\r\n    /** Creates the file for a user only if it doesn't already exist\r\n     * @param user the user whose file is being created\r\n     * @param scan scanner object to capture input\r\n     */\r\n    public static void createUser(String user, Scanner scan) {\r\n        File dir = new File(\"users/\" + user);\r\n        if (!dir.exists()) {\r\n            dir.mkdirs();\r\n            File f = new File(\"users/\" + user + \"/\" + user);\r\n            try {\r\n                if (!f.createNewFile()) {\r\n                    while (!f.createNewFile()) {\r\n                        System.out.println(\"User already exists! Please enter another username.\");\r\n                        user = scan.nextLine();\r\n                        f = new File(\"users/\" + user + \"/\" + user);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(\"An unknown error occurred!\");\r\n            }\r\n            boolean fileStatus = writeFile(user);\r\n            boolean done = false;\r\n            if (fileStatus) {\r\n                try {\r\n                    while (!done) {\r\n                        System.out.println(\"Please enter a password.\");\r\n                        String password = scan.nextLine();\r\n                        fileStatus = writeFile(user, password);\r\n                        if (!fileStatus) {\r\n                            break;\r\n                        }\r\n                        encryptFile(user);\r\n                        done = true;\r\n                    }\r\n                    done = false;\r\n                    System.out.println(\"Are you a seller? Please enter 'yes' or 'no.'\");\r\n                    while (!done) {\r\n                        String isSeller = scan.nextLine();\r\n                        while (!isSeller.equalsIgnoreCase(\"yes\") &&\r\n                                !isSeller.equalsIgnoreCase(\"no\")) {\r\n                            System.out.println(\"Please enter 'yes' or 'no'!\");\r\n                            isSeller = scan.nextLine();\r\n                        }\r\n                        if (isSeller.equalsIgnoreCase(\"yes\")) {\r\n                            isSeller = \"true\";\r\n                            System.out.println(\"Please enter your store name.\");\r\n                            String storeName = scan.nextLine();\r\n                            fileStatus = writeFile(user, isSeller);\r\n                            fileStatus = writeFile(user, storeName);\r\n                        } else {\r\n                            isSeller = \"false\";\r\n                            fileStatus = writeFile(user, isSeller);\r\n                        }\r\n                        if (!fileStatus) {\r\n                            break;\r\n                        }\r\n                        done = true;\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(\"Please enter a valid String input!\");\r\n                }\r\n            }\r\n            if (!fileStatus) {\r\n                System.out.println(\"An unknown error occurred!\");\r\n            }\r\n            System.out.printf(\"Account created! Welcome, %s!%n\", user);\r\n        } else {\r\n            dir.delete();\r\n        }\r\n    }\r\n\r\n    /** Reads the password of the file for comparison\r\n     * @param user the user whose password is being read\r\n     * @return String of the encrypted password\r\n     */\r\n    public static String readPassword (String user) {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(\"users/\" + user + \"/\" + user))) {\r\n            String password = \"\";\r\n            int index = 0;\r\n            String line = br.readLine();\r\n            while (line != null) {\r\n                index++;\r\n                if (index == 2) {\r\n                    password = line;\r\n                }\r\n                line = br.readLine();\r\n            }\r\n            return (password);\r\n        } catch (Exception e) {\r\n            System.out.println(\"An unknown error occurred!\");\r\n        }\r\n        return (null);\r\n    }\r\n\r\n    /** Allows users to log in OR calls methods above and builds a file of the following format for a new user:\r\n     *         username\r\n     *         password (encrypted)\r\n     *         isSeller (true or false)\r\n     *         storeName (included ONLY is user isSeller)\r\n     * @return String of the user's name\r\n     */\r\n    public static String userInteraction() {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.println(\"Welcome! Please enter 1 to log in or 2 to create a new account.\");\r\n        boolean done = false;\r\n        int input = 0;\r\n        while (!done) {\r\n            try {\r\n                input = scan.nextInt();\r\n                scan.nextLine();\r\n                if (input == 1 || input == 2) {\r\n                    done = true;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(\"That's not a valid input!\");\r\n            }\r\n        }\r\n        if (input == 1) {\r\n            boolean userFound = false;\r\n            String user = \"\";\r\n            done = false;\r\n            while (!done) {\r\n                System.out.println(\"Please enter your username.\");\r\n                user = scan.nextLine();\r\n                File F = new File(\"users/\" + user + \"/\" + user);\r\n                try {\r\n                    if (F.createNewFile()) {\r\n                        F.delete();\r\n                        System.out.println(\"That user doesn't exist! Press 1 to try again and 2 to exit.\");\r\n                        boolean continueUser = false;\r\n                        while (!continueUser) {\r\n                            try {\r\n                                input = scan.nextInt();\r\n                                scan.nextLine();\r\n                                if (input == 2) {\r\n                                    done = true;\r\n                                    break;\r\n                                } else if (input == 1) {\r\n                                    continueUser = true;\r\n                                } else {\r\n                                    System.out.println(\"Please enter a valid input!\");\r\n                                }\r\n                            } catch (Exception e) {\r\n                                System.out.println(\"Please enter a valid input!\");\r\n                            }\r\n                        }\r\n                    } else {\r\n                        userFound = true;\r\n                        done = true;\r\n                    }\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n            if (userFound) {\r\n                boolean loggedIn = false;\r\n                System.out.println(\"Please enter your password\");\r\n                done = false;\r\n                while (!done) {\r\n                    try {\r\n                        String passwordInput = scan.nextLine();\r\n                        if (encrypt(passwordInput).equals(readPassword(user))) {\r\n                            System.out.printf(\"Welcome, %s!%n\", user);\r\n                            done = true;\r\n                            loggedIn = true;\r\n                        } else {\r\n                            boolean continuePassword = false;\r\n                            while (!continuePassword) {\r\n                                System.out.println(\"Incorrect password! Enter 1 to try again or 2 to exit.\");\r\n                                try {\r\n                                    input = scan.nextInt();\r\n                                    scan.nextLine();\r\n                                    if (input == 2) {\r\n                                        done = true;\r\n                                        break;\r\n                                    } else if (input == 1) {\r\n                                        continuePassword = true;\r\n                                        System.out.println(\"Please enter your password\");\r\n                                    } else {\r\n                                        System.out.println(\"Please enter a valid input!\");\r\n                                    }\r\n                                } catch (Exception e) {\r\n                                    System.out.println(\"Please enter a valid input!\");\r\n                                }\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        System.out.println(\"An unknown error occurred!\");\r\n                    }\r\n                }\r\n                if (loggedIn) {\r\n                    return (user);\r\n                }\r\n            }\r\n        } else {\r\n            done = false;\r\n            System.out.println(\"Please enter a username.\");\r\n            while (!done) {\r\n                try {\r\n                    String user = scan.nextLine();\r\n                    createUser(user, scan);\r\n                    done = true;\r\n                    return (user);\r\n                } catch (Exception e) {\r\n                    System.out.println(\"Please enter a valid username!\");\r\n                }\r\n            }\r\n        }\r\n        return(null);\r\n    }\r\n\r\n    /** Runs all LogIn methods to either create a user or log one in; afterwards, creates String ArrayList of user information\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        String user = userInteraction();\r\n        if (user != null) {\r\n            ArrayList<String> fileContents = new ArrayList();\r\n            try (BufferedReader bfr = new BufferedReader(new FileReader(\"users/\" + user + \"/\" + user))) {\r\n                int index = 0;\r\n                String line = bfr.readLine();\r\n                while (line != null) {\r\n                    index++;\r\n                    if (index != 2) {\r\n                        fileContents.add(line);\r\n                    }\r\n                    line = bfr.readLine();\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(\"An unknown error occurred!\");\r\n            }\r\n            System.out.println(\"\\nUser information:\");\r\n            //TODO Users will be created/accessed by the following information:\r\n            System.out.printf(\"Username: %s%n\" +\r\n                            \"isSeller: %s%n\",\r\n                    fileContents.get(0),\r\n                    fileContents.get(1));\r\n            if (fileContents.size() == 3) {\r\n                System.out.println(\"Store Name: \" + fileContents.get(2));\r\n            }\r\n        } else {\r\n            System.out.println(\"Goodbye!\");\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/LogIn.java b/LogIn.java
--- a/LogIn.java	(revision abddc2a2256f67d036c97874cc4dacf6268f57af)
+++ b/LogIn.java	(date 1667758189489)
@@ -3,26 +3,31 @@
 import java.util.Scanner;
 
 public class LogIn {
-    /** Writes user's username to a file
+    /**
+     * Writes user's username to a file
+     *
      * @param user String of the user's username
      * @return boolean of if file was successfully written or not
      */
     public static boolean writeFile(String user) {
-        try (PrintWriter pw = new PrintWriter(new FileOutputStream("users/" + user + "/" + user))){
+        try (PrintWriter pw = new PrintWriter(new FileOutputStream("users/" + user + "/" + user))) {
             pw.println(user);
             return (true);
         } catch (Exception e) {
+            e.printStackTrace();
             return (false);
         }
     }
 
-    /** Appends an additional line to a given user's file
-     * @param user the user whose file is being appended
+    /**
+     * Appends an additional line to a given user's file
+     *
+     * @param user     the user whose file is being appended
      * @param toAppend the parameter that is being appended to the file
      * @return boolean of if the file was successfully written or not
      */
     public static boolean writeFile(String user, String toAppend) {
-        try (PrintWriter pw = new PrintWriter(new FileOutputStream("users/" + user + "/" + user, true))){
+        try (PrintWriter pw = new PrintWriter(new FileOutputStream("users/" + user + "/" + user, true))) {
             pw.println(toAppend);
             return (true);
         } catch (Exception e) {
@@ -30,10 +35,12 @@
         }
     }
 
-    /** Encrypts the password of the user file when an account is created
+    /**
+     * Encrypts the password of the user file when an account is created
+     *
      * @param user the user whose password is being encrypted
      */
-    public static void encryptFile (String user) {
+    public static void encryptFile(String user) {
         try (BufferedReader br = new BufferedReader(new FileReader("users/" + user + "/" + user))) {
             String password = "";
             int index = 0;
@@ -65,11 +72,13 @@
         }
     }
 
-    /** Takes a password input by a user attempting to log in and uses the key to encrypt it for comparison
+    /**
+     * Takes a password input by a user attempting to log in and uses the key to encrypt it for comparison
+     *
      * @param input the password being encrypted
      * @return String of the encrypted password
      */
-    public static String encrypt (String input) {
+    public static String encrypt(String input) {
         String finalInput = "";
         char[] inputArray = input.toCharArray();
         for (int i = 0; i < inputArray.length; i++) {
@@ -85,82 +94,89 @@
         return (finalInput);
     }
 
-    /** Creates the file for a user only if it doesn't already exist
+    /**
+     * Creates the file and directory for a user only if the account doesn't already exist
+     *
      * @param user the user whose file is being created
      * @param scan scanner object to capture input
      */
     public static void createUser(String user, Scanner scan) {
+        File f;
         File dir = new File("users/" + user);
         if (!dir.exists()) {
             dir.mkdirs();
-            File f = new File("users/" + user + "/" + user);
+            f = new File("users/" + user + "/" + user);
+        } else {
             try {
-                if (!f.createNewFile()) {
-                    while (!f.createNewFile()) {
+                if (!dir.createNewFile()) {
+                    while (!dir.createNewFile()) {
                         System.out.println("User already exists! Please enter another username.");
                         user = scan.nextLine();
-                        f = new File("users/" + user + "/" + user);
-                    }
-                }
+                        dir = new File("users/" + user);
+                    }
+                }
+                dir.mkdirs();
+                f = new File("users/" + user + "/" + user);
             } catch (Exception e) {
-                System.out.println("An unknown error occurred!");
+                e.printStackTrace();
+                System.out.println("An unknown error occurred line 116!");
             }
-            boolean fileStatus = writeFile(user);
-            boolean done = false;
-            if (fileStatus) {
-                try {
-                    while (!done) {
-                        System.out.println("Please enter a password.");
-                        String password = scan.nextLine();
-                        fileStatus = writeFile(user, password);
-                        if (!fileStatus) {
-                            break;
-                        }
-                        encryptFile(user);
-                        done = true;
-                    }
-                    done = false;
-                    System.out.println("Are you a seller? Please enter 'yes' or 'no.'");
-                    while (!done) {
-                        String isSeller = scan.nextLine();
-                        while (!isSeller.equalsIgnoreCase("yes") &&
-                                !isSeller.equalsIgnoreCase("no")) {
-                            System.out.println("Please enter 'yes' or 'no'!");
-                            isSeller = scan.nextLine();
-                        }
-                        if (isSeller.equalsIgnoreCase("yes")) {
-                            isSeller = "true";
-                            System.out.println("Please enter your store name.");
-                            String storeName = scan.nextLine();
-                            fileStatus = writeFile(user, isSeller);
-                            fileStatus = writeFile(user, storeName);
-                        } else {
-                            isSeller = "false";
-                            fileStatus = writeFile(user, isSeller);
-                        }
-                        if (!fileStatus) {
-                            break;
-                        }
-                        done = true;
-                    }
-                } catch (Exception e) {
-                    System.out.println("Please enter a valid String input!");
-                }
-            }
-            if (!fileStatus) {
-                System.out.println("An unknown error occurred!");
-            }
-            System.out.printf("Account created! Welcome, %s!%n", user);
-        } else {
-            dir.delete();
-        }
+        }
+        boolean fileStatus = writeFile(user);
+        boolean done = false;
+        if (fileStatus) {
+            try {
+                while (!done) {
+                    System.out.println("Please enter a password.");
+                    String password = scan.nextLine();
+                    fileStatus = writeFile(user, password);
+                    if (!fileStatus) {
+                        break;
+                    }
+                    encryptFile(user);
+                    done = true;
+                }
+                done = false;
+                System.out.println("Are you a seller? Please enter 'yes' or 'no.'");
+                while (!done) {
+                    String isSeller = scan.nextLine();
+                    while (!isSeller.equalsIgnoreCase("yes") &&
+                            !isSeller.equalsIgnoreCase("no")) {
+                        System.out.println("Please enter 'yes' or 'no'!");
+                        isSeller = scan.nextLine();
+                    }
+                    if (isSeller.equalsIgnoreCase("yes")) {
+                        isSeller = "true";
+                        System.out.println("Please enter your store name.");
+                        String storeName = scan.nextLine();
+                        fileStatus = writeFile(user, isSeller);
+                        fileStatus = writeFile(user, storeName);
+                    } else {
+                        isSeller = "false";
+                        fileStatus = writeFile(user, isSeller);
+                    }
+                    if (!fileStatus) {
+                        break;
+                    }
+                    done = true;
+                }
+            } catch (Exception e) {
+                System.out.println("Please enter a valid String input!");
+            }
+        }
+        if (!fileStatus) {
+            System.out.println("An unknown error occurred!");
+        }
+        System.out.printf("Account created! Welcome, %s!%n", user);
     }
 
-    /** Reads the password of the file for comparison
+    /**
+     * Reads the password of the file for comparison
+     *
      * @param user the user whose password is being read
      * @return String of the encrypted password
      */
-    public static String readPassword (String user) {
+    public static String readPassword(String user) {
         try (BufferedReader br = new BufferedReader(new FileReader("users/" + user + "/" + user))) {
             String password = "";
             int index = 0;
@@ -179,11 +195,13 @@
         return (null);
     }
 
-    /** Allows users to log in OR calls methods above and builds a file of the following format for a new user:
-     *         username
-     *         password (encrypted)
-     *         isSeller (true or false)
-     *         storeName (included ONLY is user isSeller)
+    /**
+     * Allows users to log in OR calls methods above and builds a file of the following format for a new user:
+     * username
+     * password (encrypted)
+     * isSeller (true or false)
+     * storeName (included ONLY is user isSeller)
+     *
      * @return String of the user's name
      */
     public static String userInteraction() {
@@ -292,10 +310,12 @@
                 }
             }
         }
-        return(null);
+        return (null);
     }
 
-    /** Runs all LogIn methods to either create a user or log one in; afterwards, creates String ArrayList of user information
+    /**
+     * Runs all LogIn methods to either create a user or log one in; afterwards, creates String ArrayList of user information
+     *
      * @param args
      */
     public static void main(String[] args) {
Index: out/production/Project-4-Repository/.idea/vcs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"VcsDirectoryMappings\">\r\n    <mapping directory=\"\" vcs=\"Git\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/out/production/Project-4-Repository/.idea/vcs.xml b/out/production/Project-4-Repository/.idea/vcs.xml
--- a/out/production/Project-4-Repository/.idea/vcs.xml	(revision abddc2a2256f67d036c97874cc4dacf6268f57af)
+++ b/out/production/Project-4-Repository/.idea/vcs.xml	(date 1667754193117)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="VcsDirectoryMappings">
-    <mapping directory="" vcs="Git" />
+    <mapping directory="$PROJECT_DIR$" vcs="Git" />
   </component>
 </project>
\ No newline at end of file
Index: out/production/Project-4-Repository/.idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_18\" default=\"true\" project-jdk-name=\"openjdk-18\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/out\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/out/production/Project-4-Repository/.idea/misc.xml b/out/production/Project-4-Repository/.idea/misc.xml
--- a/out/production/Project-4-Repository/.idea/misc.xml	(revision abddc2a2256f67d036c97874cc4dacf6268f57af)
+++ b/out/production/Project-4-Repository/.idea/misc.xml	(date 1667755687667)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_18" default="true" project-jdk-name="openjdk-18" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" project-jdk-name="11" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/out" />
   </component>
 </project>
\ No newline at end of file
Index: users/testUser3/testUser3
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/users/testUser3/testUser3 b/users/testUser3/testUser3
new file mode 100644
--- /dev/null	(date 1667758101949)
+++ b/users/testUser3/testUser3	(date 1667758101949)
@@ -0,0 +1,4 @@
+testUser3
+u\xn|jw_
+true
+Store
Index: users/testUser/testUser
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>testUser\r\nu\\xn|jw_6-8/\r\ntrue\r\nStore\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/users/testUser/testUser b/users/testUser/testUser
--- a/users/testUser/testUser	(revision abddc2a2256f67d036c97874cc4dacf6268f57af)
+++ b/users/testUser/testUser	(date 1667758172712)
@@ -1,4 +1,3 @@
 testUser
-u\xn|jw_6-8/
-true
-Store
+xpu`wgtilbtjikfnxrtmi
+false
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"openjdk-19\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/out\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision abddc2a2256f67d036c97874cc4dacf6268f57af)
+++ b/.idea/misc.xml	(date 1667755687667)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" project-jdk-name="openjdk-19" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" project-jdk-name="11" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/out" />
   </component>
 </project>
\ No newline at end of file
Index: MarketUser.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.io.*;\r\nimport java.sql.SQLOutput;\r\nimport java.util.*;\r\n\r\npublic class MarketUser implements User{\r\n    private String username;\r\n    private boolean isSeller;\r\n\r\n    public static void main(String[] args) {\r\n        MarketUser mu = new MarketUser(\"john\",false);\r\n        mu.message();\r\n    }\r\n\r\n    /** Constructor creates new object with a username and tells object if it is a seller or not.\r\n     * @param username The username associated with the user directory you wish to find\r\n     * @param isSeller Tells class whether this instance is a seller or not\r\n     */\r\n    public MarketUser(String username, boolean isSeller) {\r\n        this.username = username;\r\n        this.isSeller = isSeller;\r\n    }\r\n\r\n    /** Method called when user is logged in, using System.out.println() will ask user if they want to message someone,\r\n     * who they want to message, and what they want to message.\r\n     */\r\n    public void message() {\r\n        Integer selection = null;\r\n        String recipient = \"\";\r\n        String proceed;\r\n        Scanner scan = new Scanner(System.in);\r\n        if (isSeller) { // if it is a seller, enter this statement\r\n            System.out.println(\"Do you wish to contact, block, or unblock a potential buyer? (Yes/No)\");\r\n            proceed = scan.nextLine();\r\n            if (proceed.equalsIgnoreCase(\"yes\")) { // if the user has selected to message someone...\r\n                do { // keep prompting for a recipient until they either select a valid recipient, or cancel\r\n                    System.out.println(\"Enter '1' to search for a buyer, enter '2' to see a list of buyers,\" +\r\n                            \"or enter any number to cancel:\");\r\n                    selection = null;\r\n                    do {\r\n                        try {\r\n                            selection = scan.nextInt();\r\n                            scan.nextLine();\r\n                        } catch (InputMismatchException e) {\r\n                            System.out.println(\"Please enter a valid number:\");\r\n                            scan.nextLine();\r\n                        }\r\n                    } while (selection == null);\r\n                    if (selection == 1) { // if the user wants to search for a buyer, enter this statement\r\n                        System.out.println(\"Enter the username of a buyer:\");\r\n                        recipient = scan.nextLine();\r\n                        if (checkIfRecipientExists(recipient)) {\r\n                            break; // at this point we know that the variable 'recipient' contains a valid username\r\n                        } else {\r\n                            System.out.println(\"Sorry! This user does not exist!\");\r\n                        }\r\n                    } else if (selection == 2) { // if the user wants to see a list of people to contact\r\n                        try {\r\n                            String[] allAvailableUsers = getAvailableUsers();\r\n                            for (int i = 0; i < allAvailableUsers.length; i++) {\r\n                                System.out.println((i + 1) + \". \" + allAvailableUsers[i]);\r\n                            }\r\n                            System.out.println(allAvailableUsers.length + 1 + \": Cancel\");\r\n                            System.out.println(\"Make a selection:\");\r\n                            selection = null;\r\n                            do {\r\n                                try {\r\n                                    selection = scan.nextInt();\r\n                                    scan.nextLine();\r\n                                    if ((selection < 1 || selection > allAvailableUsers.length + 1)) {\r\n                                        System.out.println(\"Please enter a valid number:\");\r\n                                        selection = null;\r\n                                    }\r\n                                } catch (InputMismatchException e) {\r\n                                    System.out.println(\"Please enter a valid number:\");\r\n                                    scan.nextLine();\r\n                                }\r\n                            } while (selection == null);\r\n                            if (selection != allAvailableUsers.length + 1) {\r\n                                recipient = allAvailableUsers[selection - 1];\r\n                                break; // at this point we again know that the variable 'recipient' contains a valid username\r\n                            }\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                            System.out.println(\"Sorry, there was an error reading the users, please try again!\");\r\n                        }\r\n                    } else {\r\n                        proceed = \"\"; // set proceed to not 'yes' so that we return out of function\r\n                        break;\r\n                    }\r\n                } while(true);\r\n            }\r\n        } else { // lots of repeated code here, but I think needed because of slightly different print statements\r\n            System.out.println(\"Do you wish to contact, block, or unblock a store? (Yes/No)\");\r\n            proceed = scan.nextLine();\r\n            if (proceed.equalsIgnoreCase(\"yes\")) { // if the user has selected to message someone...\r\n                do { // keep prompting for a recipient until they either select a valid recipient, or cancel\r\n                    System.out.println(\"Enter '1' to search for a store, enter '2' to see a list of stores, \" +\r\n                            \"or enter any number to cancel:\");\r\n                    selection = null;\r\n                    do {\r\n                        try {\r\n                            selection = scan.nextInt();\r\n                            scan.nextLine();\r\n                        } catch (InputMismatchException e) {\r\n                            System.out.println(\"Please enter a valid number:\");\r\n                            scan.nextLine();\r\n                        }\r\n                    } while (selection == null);\r\n                    if (selection == 1) { // if the user wants to search for a store, enter this statement\r\n                        System.out.println(\"Enter the name of a store:\");\r\n                        recipient = scan.nextLine();\r\n                        if (checkIfRecipientExists(recipient)) {\r\n                            break; // at this point we know that the variable 'recipient' contains a valid username\r\n                        } else {\r\n                            System.out.println(\"Sorry! This store does not exist!\");\r\n                        }\r\n                    } else if (selection == 2) { // if the user wants to see a list of people to contact\r\n\r\n                        try {\r\n                            String[] allAvailableUsers = getAvailableUsers();\r\n                            for (int i = 0; i < allAvailableUsers.length; i++) {\r\n                                System.out.println((i + 1) + \". \" + allAvailableUsers[i]);\r\n                            }\r\n                            System.out.println(allAvailableUsers.length + 1 + \": Cancel\");\r\n                            System.out.println(\"Make a selection:\");\r\n                            selection = null;\r\n                            do {\r\n                                try {\r\n                                    selection = scan.nextInt();\r\n                                    scan.nextLine();\r\n                                    if ((selection < 1 || selection > allAvailableUsers.length + 1)) {\r\n                                        System.out.println(\"Please enter a valid number:\");\r\n                                        selection = null;\r\n                                    }\r\n                                } catch (InputMismatchException e) {\r\n                                    System.out.println(\"Please enter a valid number:\");\r\n                                    scan.nextLine();\r\n                                }\r\n                            } while (selection == null);\r\n                            if (selection != allAvailableUsers.length + 1) {\r\n                                recipient = allAvailableUsers[selection - 1];\r\n                                break; // at this point we again know that the variable 'recipient' contains a valid username\r\n                            }\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                            System.out.println(\"Sorry, there was an error reading the users, please try again!\");\r\n                        }\r\n                    } else {\r\n                        proceed = \"\"; // set proceed to not 'yes' so that we return out of function\r\n                        break;\r\n                    }\r\n                } while(true);\r\n            }\r\n        }\r\n        System.out.println(\"here\");\r\n        /* at this point in program one of two things has happened: Either the String recipient contains a valid\r\n        username, or the user said \"No\" to wanting to send message */\r\n        if (!proceed.equalsIgnoreCase(\"yes\")) {\r\n            return;\r\n        } // after this statement we know that String recipient contains a valid value\r\n        checkIfMessageExists(recipient); // this will check if message has already been created and create if not\r\n        System.out.printf(\"Connected with %s!\\nPlease select an option:\\n\", recipient);\r\n        selection = null;\r\n        System.out.println(\"1. Send a message\\n\" +\r\n                \"2. Edit a message\\n\" +\r\n                \"3. Delete a message\\n\" +\r\n                \"4. Block this \" + ((this.isSeller)? \"buyer\\n\" : \"store\\n\") +\r\n                \"5. Unblock this \" + ((this.isSeller)? \"buyer\\n\" : \"store\\n\") +\r\n                \"6. Import a .txt file\\n\" +\r\n                \"7. Export message as a .csv file\\n\" +\r\n                \"8. Cancel\");\r\n        selection = -1;\r\n        do {\r\n            try {\r\n                if (selection != -1) {\r\n                    System.out.println(\"Please enter a valid number:\");\r\n                }\r\n                selection = scan.nextInt();\r\n                scan.nextLine();\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(\"Please enter a valid number:\");\r\n                scan.nextLine();\r\n            }\r\n        } while ((selection < 1 || selection > 8));\r\n        switch (selection) {\r\n            case 1 -> appendMessage(recipient);\r\n            case 2 -> editMessage(recipient);\r\n            case 3 -> deleteMessage(recipient);\r\n            case 4 -> blockUser(recipient);\r\n            case 5 -> unblockUser(recipient);\r\n            // TODO case 6 -> implement;\r\n            // TODO case 7 -> implement;\r\n        }\r\n        System.out.println(\"Thank you for using the messaging system!\");\r\n    }\r\n\r\n    /**\r\n     * Get a list of users that this user can message\r\n     * @return an array of available people for messaging\r\n     * @throws IOException\r\n     */\r\n    public String[] getAvailableUsers() throws IOException {\r\n        ArrayList<String> available = new ArrayList<>();\r\n        String buyerOrSeller = \"data/\" + ((this.isSeller)? \"buyers/\": \"sellers/\");\r\n        //Goes in the right directory\r\n        File recipientType = new File(\"data/\" + ((this.isSeller)? \"buyers/\": \"sellers/\"));\r\n        String[] usernames = recipientType.list();\r\n        //Loop through user directories\r\n        for(String userDir : usernames) {\r\n            File thatUserBlockedFile = new File(buyerOrSeller+\"/\" + userDir + \"/\" + \"hasBlocked\");\r\n            BufferedReader bfr = new BufferedReader(new FileReader(thatUserBlockedFile));\r\n            String line;\r\n            boolean blocked = false;\r\n            //Check the hasBlocked file, if this.username isn't there add the user to available\r\n            while((line = bfr.readLine())!= null) {\r\n                if(line.equals(this.username)) {\r\n                    blocked = true;\r\n                    break;\r\n                }\r\n            }\r\n            bfr.close();\r\n            if(!blocked) {\r\n                available.add(userDir);\r\n            }\r\n        }\r\n        //Just turn ArrayList into array classic 180 stuff\r\n        String[] availables = new String[available.size()];\r\n        for(int i = 0; i < availables.length; i++) {\r\n            availables[i] = available.get(i);\r\n        }\r\n        return availables;\r\n    }\r\n\r\n    /** Method to see if given recipient actually exists by checking if directory with recipient name exists\r\n     * @param recipient The username associated with the user directory you wish to find\r\n     */\r\n    public boolean checkIfRecipientExists(String recipient) { // DESTIN: look through directories and check for name\r\n        String path = \"\";\r\n        if (isSeller) {\r\n            path = \"data/buyers/\";\r\n        } else {\r\n            path = \"data/sellers/\";\r\n        }\r\n        try {\r\n            File f = new File(path + recipient);\r\n            return f.exists();\r\n        } catch (Exception e) {\r\n            System.out.println(\"Error loading file, please try again\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /** Method to see if conversation has started\r\n     * Check if <username><recipient>.txt exists because if it exists then <recipient><username>.txt also exists\r\n     * if nto create both files\r\n     * @param recipient The username associated with the person the user wishes to measure\r\n     */\r\n    public void checkIfMessageExists(String recipient) {// check if <username><recipient>.txt exits in directory or not\r\n        String path1 = \"\";\r\n        String path2 = \"\";\r\n        if (isSeller) {\r\n            path1 = \"data/sellers/\" + username + \"/\";\r\n            path2 = \"data/buyers/\" + recipient + \"/\";\r\n        } else {\r\n            path1 = \"data/buyers/\" + username + \"/\";\r\n            path2 = \"data/sellers/\" + recipient + \"/\";\r\n        }\r\n        try {\r\n            File fUser = new File(path1 + username + recipient + \".txt\");\r\n            boolean didCreate = fUser.createNewFile();\r\n            if (didCreate) {\r\n                File fRecipient = new File(path2 + recipient + username + \".txt\");\r\n                fRecipient.createNewFile();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Adds message to both sender and receiver file\r\n     *\r\n     * @param recipient\r\n     *\r\n     * @Author John Brooks\r\n     */\r\n\r\n    public void appendMessage(String recipient) {\r\n\r\n        String fileRecipient = \"\";\r\n        String fileSender = \"\";\r\n        String message;\r\n        String printFile;\r\n\r\n        if (isSeller) {\r\n            fileSender = \"data/sellers/\" + username + \"/\";\r\n            fileRecipient = \"data/buyers/\" + recipient + \"/\";\r\n        } else {\r\n            fileSender = \"data/buyers/\" + username + \"/\";\r\n            fileRecipient = \"data/sellers/\" + recipient + \"/\";\r\n        }\r\n        File senderF = new File(fileSender + username + recipient + \".txt\");\r\n        File recipientF = new File(fileRecipient + recipient + username + \".txt\");\r\n        if (senderF.exists() && recipientF.exists()) {\r\n            try {\r\n                //display prior to adding\r\n                BufferedReader display = new BufferedReader(new FileReader(senderF));\r\n                printFile = display.readLine();\r\n                while (printFile != null) {\r\n                    System.out.println(printFile);\r\n                    printFile = display.readLine();\r\n                }\r\n                FileOutputStream fosSend = new FileOutputStream(senderF, true);\r\n                PrintWriter messageSenderWriter = new PrintWriter(fosSend);\r\n                FileOutputStream fosReceive = new FileOutputStream(recipientF, true);\r\n                PrintWriter messageReceiveWriter = new PrintWriter(fosReceive);\r\n                Scanner scan = new Scanner(System.in);\r\n                System.out.print(username + \": \");\r\n                message = scan.nextLine();\r\n                //write it on the end of each person's file\r\n                messageSenderWriter.println(username + \": \" + message);\r\n                messageReceiveWriter.println(username + \": \" + message);\r\n                display.close();\r\n                messageSenderWriter.close();\r\n                messageReceiveWriter.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    } // add to both files\r\n\r\n    /**\r\n     * Searches file for index that matches one given by the user and changes that line and\r\n     * writes it back to the file\r\n     *\r\n     * @param recipient\r\n     *\r\n     * @Author John Brooks\r\n     */\r\n    public void editMessage(String recipient) {\r\n\r\n        String fileRecipient = \"\";\r\n        String fileSender = \"\";\r\n        String message;\r\n        String printFile;\r\n        int count = 1;\r\n        int ind = -1;\r\n        int flag;\r\n\r\n        if (isSeller) {\r\n            fileSender = \"data/sellers/\" + username + \"/\";\r\n            fileRecipient = \"data/buyers/\" + recipient + \"/\";\r\n        } else {\r\n            fileSender = \"data/buyers/\" + username + \"/\";\r\n            fileRecipient = \"data/sellers/\" + recipient + \"/\";\r\n        }\r\n        File senderF = new File(fileSender + username + recipient + \".txt\");\r\n        File recipientF = new File(fileRecipient + recipient + username + \".txt\");\r\n\r\n        if (senderF.exists() && recipientF.exists()) {\r\n            try {\r\n                //initial display\r\n                BufferedReader display = new BufferedReader(new FileReader(senderF));\r\n                printFile = display.readLine();\r\n                while (printFile != null) {\r\n                    System.out.println(count + \": \" + printFile);\r\n                    count++;\r\n                    printFile = display.readLine();\r\n                }\r\n                BufferedReader buffSender = new BufferedReader(new FileReader(senderF));\r\n                FileOutputStream fosSend = new FileOutputStream(senderF, false);\r\n                PrintWriter messageSenderWriter = new PrintWriter(fosSend);\r\n                FileOutputStream fosReceive = new FileOutputStream(recipientF, false);\r\n                PrintWriter messageReceiveWriter = new PrintWriter(fosReceive);\r\n                Scanner scan = new Scanner(System.in);\r\n                //acquiring index\r\n                System.out.println(\"Which index would you like to change?\");\r\n                do {\r\n                    flag = 0;\r\n                    try {\r\n                        ind = Integer.parseInt(scan.nextLine());\r\n                    } catch (NumberFormatException n) {\r\n                        flag++;\r\n                    }\r\n                    if (flag == 1 || (ind < 1 || ind > count))\r\n                        System.out.println(\"Your index must be a number and must be available. Try again:\");\r\n                } while (flag == 1 || (ind < 1 || ind > count));\r\n                System.out.println(\"What would you like the new version to say?\");\r\n                String edit = scan.nextLine();\r\n                ArrayList<String> readSenderFile = new ArrayList<>();\r\n                ArrayList<String> readReceiverFile = new ArrayList<>();\r\n                String line = buffSender.readLine();\r\n                //run through array, add lines, and check throughout if line matches criteria and then change it\r\n                int count2 = 0;\r\n                while (line != null) {\r\n                    if (ind - 1 == count2) {\r\n                        line = edit;\r\n                    }\r\n                    readSenderFile.add(username + \": \" + line);\r\n                    line = buffSender.readLine();\r\n                    count2++;\r\n                }\r\n                //write back to files\r\n                for (int i = 0; i < readSenderFile.size(); i++) {\r\n                    messageSenderWriter.write(readSenderFile.get(i));\r\n                    messageReceiveWriter.write(readSenderFile.get(i));\r\n                }\r\n                display.close();\r\n                buffSender.close();\r\n                messageSenderWriter.close();\r\n                messageReceiveWriter.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n        * Searches file for index that matches one given by the user to not add it to an arraylist and\r\n        * therefore not write it to the file\r\n         *\r\n        * @param recipient\r\n         *\r\n        * @Author John Brooks\r\n         */\r\n\r\n    public void deleteMessage(String recipient) {\r\n        String fileRecipient = \"\";\r\n        String fileSender = \"\";\r\n        String message;\r\n        String printFile;\r\n        int count = 1;\r\n        int flag;\r\n        int indexOfDelete = -1;\r\n        \r\n        if (isSeller) {\r\n            fileSender = \"data/sellers/\" + username + \"/\";\r\n            fileRecipient = \"data/buyers/\" + recipient + \"/\";\r\n        } else {\r\n            fileSender = \"data/buyers/\" + username + \"/\";\r\n            fileRecipient = \"data/sellers/\" + recipient + \"/\";\r\n        }\r\n        File senderF = new File(fileSender + username + recipient + \".txt\");\r\n        File recipientF = new File(fileRecipient + recipient + username + \".txt\");\r\n\r\n        if (senderF.exists() && recipientF.exists()) {\r\n            try {\r\n                //display\r\n                BufferedReader display = new BufferedReader(new FileReader(senderF));\r\n                printFile = display.readLine();\r\n                while (printFile != null) {\r\n                    System.out.println(count + \": \" + printFile);\r\n                    count++;\r\n                    printFile = display.readLine();\r\n                }\r\n                BufferedReader buffSender = new BufferedReader(new FileReader(senderF));\r\n                FileOutputStream fosSend = new FileOutputStream(senderF, false);\r\n                PrintWriter messageSenderWriter = new PrintWriter(fosSend);\r\n                Scanner scan = new Scanner(System.in);\r\n                //get index of delete\r\n                do {\r\n                    flag = 0;\r\n                    try {\r\n                        indexOfDelete = Integer.parseInt(scan.nextLine());\r\n                    } catch (NumberFormatException n) {\r\n                        flag++;\r\n                    }\r\n                    if (flag == 1 || (indexOfDelete < 1 || indexOfDelete > count))\r\n                        System.out.println(\"Your index must be a number and must be available. Try again:\");\r\n                } while (flag == 1 || (indexOfDelete < 1 || indexOfDelete > count));\r\n\r\n                ArrayList<String> readSenderFile = new ArrayList<>();\r\n                String line = buffSender.readLine();\r\n                //run through array, add lines, and check throughout if line matches criteria then dont add it\r\n                int count2 = 1;\r\n                while (line != null) {\r\n                    if (!(count2 == indexOfDelete)) {\r\n                        readSenderFile.add(line);\r\n                    }\r\n                    line = buffSender.readLine();\r\n                    count2++;\r\n                }\r\n                for (int i = 0; i < readSenderFile.size(); i++) {\r\n                    messageSenderWriter.write(readSenderFile.get(i));\r\n                }\r\n                display.close();\r\n                buffSender.close();\r\n                messageSenderWriter.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n   /**\r\n     * Block a user if not already blocked\r\n     * @param username: name of person to block\r\n     * @return true if already blocked, false if notBlocked\r\n     * @throws IOException\r\n     */\r\n    public boolean blockUser(String username) {\r\n        try {\r\n            String blockedFilePath = \"data/\" + ((this.isSeller) ? \"sellers/\" : \"buyers/\") + this.username + \"/hasBlocked\";\r\n            File blockedFile = new File(blockedFilePath);\r\n            BufferedReader bfr = new BufferedReader(new FileReader(blockedFile));\r\n            String line;\r\n            while ((line = bfr.readLine()) != null) {\r\n                if (line.equals(username)) {\r\n                    //The user is already blocked\r\n                    return true;\r\n                }\r\n            }\r\n            bfr.close();\r\n            //Write the name of the victim to hasBlocked file\r\n            PrintWriter pw = new PrintWriter(new FileWriter(blockedFile, true));\r\n            pw.write(username);\r\n            pw.println();\r\n            pw.flush();\r\n            pw.close();\r\n            return false;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Return a list of blocked users for this user\r\n     * @return array of blocked usernames\r\n     * @throws IOException\r\n     */\r\n    public String[] blockedList() throws IOException{\r\n        ArrayList<String> victims = new ArrayList<>();\r\n        String blockedFilePath = \"data/\" + ((this.isSeller)? \"sellers/\": \"buyers/\") + this.username + \"/hasBlocked\";\r\n        File blockedFile = new File(blockedFilePath);\r\n        BufferedReader bfr = new BufferedReader(new FileReader(blockedFile));\r\n        String line;\r\n        while((line = bfr.readLine())!= null) {\r\n            victims.add(line);\r\n        }\r\n        String[] blockedList = new String[victims.size()];\r\n        for(int i = 0; i < victims.size();i++) {\r\n            blockedList[i] = victims.get(i);\r\n        }\r\n        return blockedList;\r\n    }\r\n    \r\n    /**\r\n     * unblocked a user from the blockedList() return array\r\n     * @param username: name of person to unblock\r\n     */\r\n    public void unblockUser(String username) {\r\n        try {\r\n            ArrayList<String> lines = new ArrayList<>();\r\n            String blockedFilePath = \"data/\" + ((this.isSeller) ? \"sellers/\" : \"buyers/\") + this.username + \"/hasBlocked\";\r\n            File blockedFile = new File(blockedFilePath);\r\n            BufferedReader bfr = new BufferedReader(new FileReader(blockedFile));\r\n            String line;\r\n            while ((line = bfr.readLine()) != null) {\r\n                if (!line.equals(username)) {\r\n                    lines.add(line);\r\n                }\r\n            }\r\n            bfr.close();\r\n            PrintWriter pw = new PrintWriter(new FileWriter(blockedFile, true));\r\n            for (String l : lines) {\r\n                pw.write(l);\r\n                pw.println();\r\n            }\r\n            pw.flush();\r\n            pw.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/MarketUser.java b/MarketUser.java
--- a/MarketUser.java	(revision abddc2a2256f67d036c97874cc4dacf6268f57af)
+++ b/MarketUser.java	(date 1667755992662)
@@ -1,577 +1,0 @@
-import java.io.*;
-import java.sql.SQLOutput;
-import java.util.*;
-
-public class MarketUser implements User{
-    private String username;
-    private boolean isSeller;
-
-    public static void main(String[] args) {
-        MarketUser mu = new MarketUser("john",false);
-        mu.message();
-    }
-
-    /** Constructor creates new object with a username and tells object if it is a seller or not.
-     * @param username The username associated with the user directory you wish to find
-     * @param isSeller Tells class whether this instance is a seller or not
-     */
-    public MarketUser(String username, boolean isSeller) {
-        this.username = username;
-        this.isSeller = isSeller;
-    }
-
-    /** Method called when user is logged in, using System.out.println() will ask user if they want to message someone,
-     * who they want to message, and what they want to message.
-     */
-    public void message() {
-        Integer selection = null;
-        String recipient = "";
-        String proceed;
-        Scanner scan = new Scanner(System.in);
-        if (isSeller) { // if it is a seller, enter this statement
-            System.out.println("Do you wish to contact, block, or unblock a potential buyer? (Yes/No)");
-            proceed = scan.nextLine();
-            if (proceed.equalsIgnoreCase("yes")) { // if the user has selected to message someone...
-                do { // keep prompting for a recipient until they either select a valid recipient, or cancel
-                    System.out.println("Enter '1' to search for a buyer, enter '2' to see a list of buyers," +
-                            "or enter any number to cancel:");
-                    selection = null;
-                    do {
-                        try {
-                            selection = scan.nextInt();
-                            scan.nextLine();
-                        } catch (InputMismatchException e) {
-                            System.out.println("Please enter a valid number:");
-                            scan.nextLine();
-                        }
-                    } while (selection == null);
-                    if (selection == 1) { // if the user wants to search for a buyer, enter this statement
-                        System.out.println("Enter the username of a buyer:");
-                        recipient = scan.nextLine();
-                        if (checkIfRecipientExists(recipient)) {
-                            break; // at this point we know that the variable 'recipient' contains a valid username
-                        } else {
-                            System.out.println("Sorry! This user does not exist!");
-                        }
-                    } else if (selection == 2) { // if the user wants to see a list of people to contact
-                        try {
-                            String[] allAvailableUsers = getAvailableUsers();
-                            for (int i = 0; i < allAvailableUsers.length; i++) {
-                                System.out.println((i + 1) + ". " + allAvailableUsers[i]);
-                            }
-                            System.out.println(allAvailableUsers.length + 1 + ": Cancel");
-                            System.out.println("Make a selection:");
-                            selection = null;
-                            do {
-                                try {
-                                    selection = scan.nextInt();
-                                    scan.nextLine();
-                                    if ((selection < 1 || selection > allAvailableUsers.length + 1)) {
-                                        System.out.println("Please enter a valid number:");
-                                        selection = null;
-                                    }
-                                } catch (InputMismatchException e) {
-                                    System.out.println("Please enter a valid number:");
-                                    scan.nextLine();
-                                }
-                            } while (selection == null);
-                            if (selection != allAvailableUsers.length + 1) {
-                                recipient = allAvailableUsers[selection - 1];
-                                break; // at this point we again know that the variable 'recipient' contains a valid username
-                            }
-                        } catch (IOException e) {
-                            e.printStackTrace();
-                            System.out.println("Sorry, there was an error reading the users, please try again!");
-                        }
-                    } else {
-                        proceed = ""; // set proceed to not 'yes' so that we return out of function
-                        break;
-                    }
-                } while(true);
-            }
-        } else { // lots of repeated code here, but I think needed because of slightly different print statements
-            System.out.println("Do you wish to contact, block, or unblock a store? (Yes/No)");
-            proceed = scan.nextLine();
-            if (proceed.equalsIgnoreCase("yes")) { // if the user has selected to message someone...
-                do { // keep prompting for a recipient until they either select a valid recipient, or cancel
-                    System.out.println("Enter '1' to search for a store, enter '2' to see a list of stores, " +
-                            "or enter any number to cancel:");
-                    selection = null;
-                    do {
-                        try {
-                            selection = scan.nextInt();
-                            scan.nextLine();
-                        } catch (InputMismatchException e) {
-                            System.out.println("Please enter a valid number:");
-                            scan.nextLine();
-                        }
-                    } while (selection == null);
-                    if (selection == 1) { // if the user wants to search for a store, enter this statement
-                        System.out.println("Enter the name of a store:");
-                        recipient = scan.nextLine();
-                        if (checkIfRecipientExists(recipient)) {
-                            break; // at this point we know that the variable 'recipient' contains a valid username
-                        } else {
-                            System.out.println("Sorry! This store does not exist!");
-                        }
-                    } else if (selection == 2) { // if the user wants to see a list of people to contact
-
-                        try {
-                            String[] allAvailableUsers = getAvailableUsers();
-                            for (int i = 0; i < allAvailableUsers.length; i++) {
-                                System.out.println((i + 1) + ". " + allAvailableUsers[i]);
-                            }
-                            System.out.println(allAvailableUsers.length + 1 + ": Cancel");
-                            System.out.println("Make a selection:");
-                            selection = null;
-                            do {
-                                try {
-                                    selection = scan.nextInt();
-                                    scan.nextLine();
-                                    if ((selection < 1 || selection > allAvailableUsers.length + 1)) {
-                                        System.out.println("Please enter a valid number:");
-                                        selection = null;
-                                    }
-                                } catch (InputMismatchException e) {
-                                    System.out.println("Please enter a valid number:");
-                                    scan.nextLine();
-                                }
-                            } while (selection == null);
-                            if (selection != allAvailableUsers.length + 1) {
-                                recipient = allAvailableUsers[selection - 1];
-                                break; // at this point we again know that the variable 'recipient' contains a valid username
-                            }
-                        } catch (IOException e) {
-                            e.printStackTrace();
-                            System.out.println("Sorry, there was an error reading the users, please try again!");
-                        }
-                    } else {
-                        proceed = ""; // set proceed to not 'yes' so that we return out of function
-                        break;
-                    }
-                } while(true);
-            }
-        }
-        System.out.println("here");
-        /* at this point in program one of two things has happened: Either the String recipient contains a valid
-        username, or the user said "No" to wanting to send message */
-        if (!proceed.equalsIgnoreCase("yes")) {
-            return;
-        } // after this statement we know that String recipient contains a valid value
-        checkIfMessageExists(recipient); // this will check if message has already been created and create if not
-        System.out.printf("Connected with %s!\nPlease select an option:\n", recipient);
-        selection = null;
-        System.out.println("1. Send a message\n" +
-                "2. Edit a message\n" +
-                "3. Delete a message\n" +
-                "4. Block this " + ((this.isSeller)? "buyer\n" : "store\n") +
-                "5. Unblock this " + ((this.isSeller)? "buyer\n" : "store\n") +
-                "6. Import a .txt file\n" +
-                "7. Export message as a .csv file\n" +
-                "8. Cancel");
-        selection = -1;
-        do {
-            try {
-                if (selection != -1) {
-                    System.out.println("Please enter a valid number:");
-                }
-                selection = scan.nextInt();
-                scan.nextLine();
-            } catch (InputMismatchException e) {
-                System.out.println("Please enter a valid number:");
-                scan.nextLine();
-            }
-        } while ((selection < 1 || selection > 8));
-        switch (selection) {
-            case 1 -> appendMessage(recipient);
-            case 2 -> editMessage(recipient);
-            case 3 -> deleteMessage(recipient);
-            case 4 -> blockUser(recipient);
-            case 5 -> unblockUser(recipient);
-            // TODO case 6 -> implement;
-            // TODO case 7 -> implement;
-        }
-        System.out.println("Thank you for using the messaging system!");
-    }
-
-    /**
-     * Get a list of users that this user can message
-     * @return an array of available people for messaging
-     * @throws IOException
-     */
-    public String[] getAvailableUsers() throws IOException {
-        ArrayList<String> available = new ArrayList<>();
-        String buyerOrSeller = "data/" + ((this.isSeller)? "buyers/": "sellers/");
-        //Goes in the right directory
-        File recipientType = new File("data/" + ((this.isSeller)? "buyers/": "sellers/"));
-        String[] usernames = recipientType.list();
-        //Loop through user directories
-        for(String userDir : usernames) {
-            File thatUserBlockedFile = new File(buyerOrSeller+"/" + userDir + "/" + "hasBlocked");
-            BufferedReader bfr = new BufferedReader(new FileReader(thatUserBlockedFile));
-            String line;
-            boolean blocked = false;
-            //Check the hasBlocked file, if this.username isn't there add the user to available
-            while((line = bfr.readLine())!= null) {
-                if(line.equals(this.username)) {
-                    blocked = true;
-                    break;
-                }
-            }
-            bfr.close();
-            if(!blocked) {
-                available.add(userDir);
-            }
-        }
-        //Just turn ArrayList into array classic 180 stuff
-        String[] availables = new String[available.size()];
-        for(int i = 0; i < availables.length; i++) {
-            availables[i] = available.get(i);
-        }
-        return availables;
-    }
-
-    /** Method to see if given recipient actually exists by checking if directory with recipient name exists
-     * @param recipient The username associated with the user directory you wish to find
-     */
-    public boolean checkIfRecipientExists(String recipient) { // DESTIN: look through directories and check for name
-        String path = "";
-        if (isSeller) {
-            path = "data/buyers/";
-        } else {
-            path = "data/sellers/";
-        }
-        try {
-            File f = new File(path + recipient);
-            return f.exists();
-        } catch (Exception e) {
-            System.out.println("Error loading file, please try again");
-            return false;
-        }
-    }
-
-    /** Method to see if conversation has started
-     * Check if <username><recipient>.txt exists because if it exists then <recipient><username>.txt also exists
-     * if nto create both files
-     * @param recipient The username associated with the person the user wishes to measure
-     */
-    public void checkIfMessageExists(String recipient) {// check if <username><recipient>.txt exits in directory or not
-        String path1 = "";
-        String path2 = "";
-        if (isSeller) {
-            path1 = "data/sellers/" + username + "/";
-            path2 = "data/buyers/" + recipient + "/";
-        } else {
-            path1 = "data/buyers/" + username + "/";
-            path2 = "data/sellers/" + recipient + "/";
-        }
-        try {
-            File fUser = new File(path1 + username + recipient + ".txt");
-            boolean didCreate = fUser.createNewFile();
-            if (didCreate) {
-                File fRecipient = new File(path2 + recipient + username + ".txt");
-                fRecipient.createNewFile();
-            }
-        } catch (Exception e) {
-            e.printStackTrace();
-        }
-    }
-
-    /**
-     * Adds message to both sender and receiver file
-     *
-     * @param recipient
-     *
-     * @Author John Brooks
-     */
-
-    public void appendMessage(String recipient) {
-
-        String fileRecipient = "";
-        String fileSender = "";
-        String message;
-        String printFile;
-
-        if (isSeller) {
-            fileSender = "data/sellers/" + username + "/";
-            fileRecipient = "data/buyers/" + recipient + "/";
-        } else {
-            fileSender = "data/buyers/" + username + "/";
-            fileRecipient = "data/sellers/" + recipient + "/";
-        }
-        File senderF = new File(fileSender + username + recipient + ".txt");
-        File recipientF = new File(fileRecipient + recipient + username + ".txt");
-        if (senderF.exists() && recipientF.exists()) {
-            try {
-                //display prior to adding
-                BufferedReader display = new BufferedReader(new FileReader(senderF));
-                printFile = display.readLine();
-                while (printFile != null) {
-                    System.out.println(printFile);
-                    printFile = display.readLine();
-                }
-                FileOutputStream fosSend = new FileOutputStream(senderF, true);
-                PrintWriter messageSenderWriter = new PrintWriter(fosSend);
-                FileOutputStream fosReceive = new FileOutputStream(recipientF, true);
-                PrintWriter messageReceiveWriter = new PrintWriter(fosReceive);
-                Scanner scan = new Scanner(System.in);
-                System.out.print(username + ": ");
-                message = scan.nextLine();
-                //write it on the end of each person's file
-                messageSenderWriter.println(username + ": " + message);
-                messageReceiveWriter.println(username + ": " + message);
-                display.close();
-                messageSenderWriter.close();
-                messageReceiveWriter.close();
-            } catch (IOException e) {
-                e.printStackTrace();
-            }
-        }
-    } // add to both files
-
-    /**
-     * Searches file for index that matches one given by the user and changes that line and
-     * writes it back to the file
-     *
-     * @param recipient
-     *
-     * @Author John Brooks
-     */
-    public void editMessage(String recipient) {
-
-        String fileRecipient = "";
-        String fileSender = "";
-        String message;
-        String printFile;
-        int count = 1;
-        int ind = -1;
-        int flag;
-
-        if (isSeller) {
-            fileSender = "data/sellers/" + username + "/";
-            fileRecipient = "data/buyers/" + recipient + "/";
-        } else {
-            fileSender = "data/buyers/" + username + "/";
-            fileRecipient = "data/sellers/" + recipient + "/";
-        }
-        File senderF = new File(fileSender + username + recipient + ".txt");
-        File recipientF = new File(fileRecipient + recipient + username + ".txt");
-
-        if (senderF.exists() && recipientF.exists()) {
-            try {
-                //initial display
-                BufferedReader display = new BufferedReader(new FileReader(senderF));
-                printFile = display.readLine();
-                while (printFile != null) {
-                    System.out.println(count + ": " + printFile);
-                    count++;
-                    printFile = display.readLine();
-                }
-                BufferedReader buffSender = new BufferedReader(new FileReader(senderF));
-                FileOutputStream fosSend = new FileOutputStream(senderF, false);
-                PrintWriter messageSenderWriter = new PrintWriter(fosSend);
-                FileOutputStream fosReceive = new FileOutputStream(recipientF, false);
-                PrintWriter messageReceiveWriter = new PrintWriter(fosReceive);
-                Scanner scan = new Scanner(System.in);
-                //acquiring index
-                System.out.println("Which index would you like to change?");
-                do {
-                    flag = 0;
-                    try {
-                        ind = Integer.parseInt(scan.nextLine());
-                    } catch (NumberFormatException n) {
-                        flag++;
-                    }
-                    if (flag == 1 || (ind < 1 || ind > count))
-                        System.out.println("Your index must be a number and must be available. Try again:");
-                } while (flag == 1 || (ind < 1 || ind > count));
-                System.out.println("What would you like the new version to say?");
-                String edit = scan.nextLine();
-                ArrayList<String> readSenderFile = new ArrayList<>();
-                ArrayList<String> readReceiverFile = new ArrayList<>();
-                String line = buffSender.readLine();
-                //run through array, add lines, and check throughout if line matches criteria and then change it
-                int count2 = 0;
-                while (line != null) {
-                    if (ind - 1 == count2) {
-                        line = edit;
-                    }
-                    readSenderFile.add(username + ": " + line);
-                    line = buffSender.readLine();
-                    count2++;
-                }
-                //write back to files
-                for (int i = 0; i < readSenderFile.size(); i++) {
-                    messageSenderWriter.write(readSenderFile.get(i));
-                    messageReceiveWriter.write(readSenderFile.get(i));
-                }
-                display.close();
-                buffSender.close();
-                messageSenderWriter.close();
-                messageReceiveWriter.close();
-            } catch (IOException e) {
-                e.printStackTrace();
-            }
-        }
-
-    }
-
-    /**
-        * Searches file for index that matches one given by the user to not add it to an arraylist and
-        * therefore not write it to the file
-         *
-        * @param recipient
-         *
-        * @Author John Brooks
-         */
-
-    public void deleteMessage(String recipient) {
-        String fileRecipient = "";
-        String fileSender = "";
-        String message;
-        String printFile;
-        int count = 1;
-        int flag;
-        int indexOfDelete = -1;
-        
-        if (isSeller) {
-            fileSender = "data/sellers/" + username + "/";
-            fileRecipient = "data/buyers/" + recipient + "/";
-        } else {
-            fileSender = "data/buyers/" + username + "/";
-            fileRecipient = "data/sellers/" + recipient + "/";
-        }
-        File senderF = new File(fileSender + username + recipient + ".txt");
-        File recipientF = new File(fileRecipient + recipient + username + ".txt");
-
-        if (senderF.exists() && recipientF.exists()) {
-            try {
-                //display
-                BufferedReader display = new BufferedReader(new FileReader(senderF));
-                printFile = display.readLine();
-                while (printFile != null) {
-                    System.out.println(count + ": " + printFile);
-                    count++;
-                    printFile = display.readLine();
-                }
-                BufferedReader buffSender = new BufferedReader(new FileReader(senderF));
-                FileOutputStream fosSend = new FileOutputStream(senderF, false);
-                PrintWriter messageSenderWriter = new PrintWriter(fosSend);
-                Scanner scan = new Scanner(System.in);
-                //get index of delete
-                do {
-                    flag = 0;
-                    try {
-                        indexOfDelete = Integer.parseInt(scan.nextLine());
-                    } catch (NumberFormatException n) {
-                        flag++;
-                    }
-                    if (flag == 1 || (indexOfDelete < 1 || indexOfDelete > count))
-                        System.out.println("Your index must be a number and must be available. Try again:");
-                } while (flag == 1 || (indexOfDelete < 1 || indexOfDelete > count));
-
-                ArrayList<String> readSenderFile = new ArrayList<>();
-                String line = buffSender.readLine();
-                //run through array, add lines, and check throughout if line matches criteria then dont add it
-                int count2 = 1;
-                while (line != null) {
-                    if (!(count2 == indexOfDelete)) {
-                        readSenderFile.add(line);
-                    }
-                    line = buffSender.readLine();
-                    count2++;
-                }
-                for (int i = 0; i < readSenderFile.size(); i++) {
-                    messageSenderWriter.write(readSenderFile.get(i));
-                }
-                display.close();
-                buffSender.close();
-                messageSenderWriter.close();
-            } catch (IOException e) {
-                e.printStackTrace();
-            }
-        }
-    }
-
-   /**
-     * Block a user if not already blocked
-     * @param username: name of person to block
-     * @return true if already blocked, false if notBlocked
-     * @throws IOException
-     */
-    public boolean blockUser(String username) {
-        try {
-            String blockedFilePath = "data/" + ((this.isSeller) ? "sellers/" : "buyers/") + this.username + "/hasBlocked";
-            File blockedFile = new File(blockedFilePath);
-            BufferedReader bfr = new BufferedReader(new FileReader(blockedFile));
-            String line;
-            while ((line = bfr.readLine()) != null) {
-                if (line.equals(username)) {
-                    //The user is already blocked
-                    return true;
-                }
-            }
-            bfr.close();
-            //Write the name of the victim to hasBlocked file
-            PrintWriter pw = new PrintWriter(new FileWriter(blockedFile, true));
-            pw.write(username);
-            pw.println();
-            pw.flush();
-            pw.close();
-            return false;
-        } catch (IOException e) {
-            e.printStackTrace();
-            return false;
-        }
-    }
-    
-    /**
-     * Return a list of blocked users for this user
-     * @return array of blocked usernames
-     * @throws IOException
-     */
-    public String[] blockedList() throws IOException{
-        ArrayList<String> victims = new ArrayList<>();
-        String blockedFilePath = "data/" + ((this.isSeller)? "sellers/": "buyers/") + this.username + "/hasBlocked";
-        File blockedFile = new File(blockedFilePath);
-        BufferedReader bfr = new BufferedReader(new FileReader(blockedFile));
-        String line;
-        while((line = bfr.readLine())!= null) {
-            victims.add(line);
-        }
-        String[] blockedList = new String[victims.size()];
-        for(int i = 0; i < victims.size();i++) {
-            blockedList[i] = victims.get(i);
-        }
-        return blockedList;
-    }
-    
-    /**
-     * unblocked a user from the blockedList() return array
-     * @param username: name of person to unblock
-     */
-    public void unblockUser(String username) {
-        try {
-            ArrayList<String> lines = new ArrayList<>();
-            String blockedFilePath = "data/" + ((this.isSeller) ? "sellers/" : "buyers/") + this.username + "/hasBlocked";
-            File blockedFile = new File(blockedFilePath);
-            BufferedReader bfr = new BufferedReader(new FileReader(blockedFile));
-            String line;
-            while ((line = bfr.readLine()) != null) {
-                if (!line.equals(username)) {
-                    lines.add(line);
-                }
-            }
-            bfr.close();
-            PrintWriter pw = new PrintWriter(new FileWriter(blockedFile, true));
-            for (String l : lines) {
-                pw.write(l);
-                pw.println();
-            }
-            pw.flush();
-            pw.close();
-        } catch (IOException e) {
-            e.printStackTrace();
-        }
-    }
-}
diff --git a/out/production/Project-4-Repository/data/sellers/junk.txt b/out/production/Project-4-Repository/data/sellers/junk.txt
deleted file mode 100644
diff --git a/out/production/Project-4-Repository/data/buyers/junk.txt b/out/production/Project-4-Repository/data/buyers/junk.txt
deleted file mode 100644
